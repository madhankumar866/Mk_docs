<source>
  @type rabbitmq
#  tag direct1
  host 64.125.221.109
  # or hosts ["192.168.1.1", "192.168.1.2"]
  user root
  pass root
#  port 5672
  vhost /
  exchange wog-14  # not required. if specified, the queue will be bound to the exchange
#  exchange_type direct
#  exchange_durable true
  queue wog-14-que

  durable true
#  prefetch_count 1
  consumer_pool_size 1
  routing_key wog-14-sent # if not specified, the tag is used
  heartbeat 10 # integer as seconds or :server (interval specified by server)
#  <parse>

#    @type none # or msgpack, ltsv, none
#    @type csv
#    keys em_id,email,trackid,stats_id,offer_id,jobisp,process_id,hour,sendingdate,send_time,emp_id,groupid,mta_type,accounts,serveralias,<mode,url_pattern,ip,ipset,hname,A_body_domain,A_fromemail,A_mail_from,yahoolistid,type2,type3,dbed,dbud,surl,usurl,file_name,tmp_subject_line,tmp_from_line,senderid,reg_st,cat_id,opnchar,type4,type5,type6,type7,type8,type9,type10,randcons,randcons1,randcons2
   # delimiter |
  
#  </parse>

#  <buffer> # to use in buffered mode
#  </buffer>
  tag wog-14-sent
  </source>


#<label @RAW>
  <match wog-14-sent>
    @type file
#    path /td-agent/wog-14-sent/%Y/%m/%d/wog-14.%Y%m%d%H%M
    path /td-agent/wog-14-sent/%Y/%m/%d/wog-14.%Y%m%d%H%M
#    compress gzip
#    path_suffix .csv
    output_time false
    output_tag false
    append true
    <inject>
      time_key false
      tag_key  false	
    </inject>

    <format>
      @type single_value
  #    @type csv
 #     fields em_id,email,trackid,stats_id,offer_id,jobisp,process_id,hour,sendingdate,send_time,emp_id,groupid,mta_type,accounts,serveralias,<mode,url_pattern,ip,ipset,hname,A_body_domain,A_fromemail,A_mail_from,yahoolistid,type2,type3,dbed,dbud,surl,usurl,file_name,tmp_subject_line,tmp_from_line,senderid,reg_st,cat_id,opnchar,type4,type5,type6,type7,type8,type9,type10,randcons,randcons1,randcons2
#      delimiter |
    </format>
    <buffer time>
      @type file
      path /td-agent/buffer
      timekey 45m
      timekey_use_utc true
      timekey_wait 1m
    </buffer>
  </match>
#</label>

